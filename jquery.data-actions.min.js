/*!
 * Script name: data-actions
 * Script URI: https://github.com/nikolays93/jquery.data-actions/
 * Author: NikolayS93
 * Author URI: //vk.com/nikolays_93
 * Description: Common jQuery actions.
 * Version: 1.1b
 * License: GNU General Public License v2 or later
 * License URI: http://www.gnu.org/licenses/gpl-2.0.html
 */

jQuery(function($){function replaceTextOnly(t,a,e){for(var o=t.get(0),i=o.childNodes,r=0;r<i.length;r++)3==i[r].nodeType&&(i[r].textContent?i[r].textContent=i[r].textContent.replace(a,e):i[r].nodeValue=i[r].nodeValue.replace(a,e))}function doLoadAction($obj,target,action){var evalTarget="this"!==target?"'"+target+"'":"this",props=$obj.data("props");eval("$( "+evalTarget+" )."+action+"("+props+");")}function doAction($obj,target,trigger,action){"undefined"==typeof action&&(action=!1);var evalTarget="this"!==target?"'"+target+"'":"this",loadAction="load"==trigger?action:$obj.data("load");loadAction&&doLoadAction($obj,target,loadAction),$obj.on(trigger,function(event){var toggleClass=$(this).data("toggle-class");toggleClass&&$(target).toggleClass(toggleClass);var wrap=$(this).data("wrapper");if(!wrap||event.target===this){var allowClick=$(this).data("allow-click");allowClick||"click"!=trigger||event.preventDefault(),action||(action=$obj.data("action"));var props=$obj.data("props");action&&eval("$( "+evalTarget+" )."+action+"("+props+");")}})}function textRepalce(t){$wasObj=t;var a=t.attr("data-text-replace"),e=t.attr("data-text-replace-to"),o=t.data("target");if(o&&(t=$(o)),a&&e)t.attr("data-text-replaced")?(replaceTextOnly(t,e,a),t.removeAttr("data-text-replaced")):(replaceTextOnly(t,a,e),t.attr("data-text-replaced","true"));else{var i=t.text();$wasObj.attr("data-text-replace",i),t.text(a)}}$("[data-target]").each(function(t,a){$this=$(a);var e=$this.data("target"),o=$this.data("trigger");o||(o="click"),doAction($this,e,o),$(this).children("[data-action]").each(function(){doAction($(this),e,o)})});var easyActions=["hide","show","fade-Out","fade-In","slide-Up","slide-Down"];easyActions.forEach(function(t,a,e){$("[data-"+t+"]").each(function(a,e){var o=t.split("-");o="hide"==o[0]||"show"==o[0]?"toggle":o[0]+"Toggle",doAction($(this),$(this).data(t),"change",o),o=t.replace("-",""),"checkbox"!=$(this).attr("type")||$(this).is(":checked")||(o=["show","fadeIn","slideDown"].includes(o)?o.replace("show","hide").replace("In","Out").replace("Down","Up"):o.replace("hide","show").replace("Out","In").replace("Up","Down")),doLoadAction($(this),$(this).data(t),o)})}),$("[data-text-replace]").each(function(t,a){var e=$(this).data("trigger");e||(e="click"),"load"==e?textRepalce($(this)):$(this).on(e,function(){textRepalce($(this))})})});