/*!
 * Script name: data-actions
 * Script URI: https://github.com/nikolays93/jquery.data-actions/
 * Author: NikolayS93
 * Author URI: //vk.com/nikolays_93
 * Description: jQuery actions.
 * Version: 1.6b
 * License: GNU General Public License v2 or later
 * License URI: http://www.gnu.org/licenses/gpl-2.0.html
 */

jQuery(function($){function doAction($obj,target,action){if("this"===target)var evalTarget="$(this)";else{var evalTarget="$('"+target+"')",exp={"> ":"$obj.children('","< ":"$obj.parent('",">> ":"$obj.find('","<< ":"$obj.closest('","<> ":"$obj.parent().children('","<<>> ":"$obj.parent().find('"};$.each(exp,function(t,e){var a=new RegExp("^("+t+")");target.match(a)&&(evalTarget=e+target.replace(a,"")+"')")})}eval(evalTarget+"."+action+"("+$obj.data("props")+");")}function setAction(t,e,a,i){t.on(a,function(r){$(this).data("wrapper")&&r.target!==this||($(this).data("allow-click")||"click"!=a||r.preventDefault(),i||(i=t.data("action")),doAction(t,e,i))})}function replaceTextOnly(t,e,a){for(var i=t.get(0),r=i.childNodes,o=0;o<r.length;o++)3==r[o].nodeType&&(r[o].textContent?r[o].textContent=r[o].textContent.replace(e,a):r[o].nodeValue=r[o].nodeValue.replace(e,a))}function textRepalce(t){$wasObj=t;var e=t.attr("data-text-replace"),a=t.attr("data-text-replace-to"),i=t.data("target");if(i&&(t=$(i)),e&&a)t.attr("data-text-replaced")?(replaceTextOnly(t,a,e),t.removeAttr("data-text-replaced")):(replaceTextOnly(t,e,a),t.attr("data-text-replaced","true"));else{var r=t.text();$wasObj.attr("data-text-replace",r),t.text(e)}}$("[data-action]").each(function(t,e){var a=$(this).data("target")?$(this).data("target"):$(this).closest("[data-target]").data("target");a||(a="this");var i=$(this).data("trigger");return"load"==i?void doAction($(this),a,$(this).data("action")):(i||(i="click"),void setAction($(this),a,i))});var easyActions=["hide","show","fade-out","fade-in","slide-up","slide-down","toggle","fade-toggle","slide-toggle"];easyActions.forEach(function(t,e,a){$("[data-"+t+"]").each(function(e,a){var i=t.split("-");if(action=i[0]+i[1].charAt(0).toUpperCase()+i[1].substr(1).toLowerCase(),"checkbox"==$(this).attr("type")||"radio"==$(this).attr("type")){"false"!==$(this).data("toggle")&&(action="hide"==i[0]||"show"==i[0]?"toggle":i[0]+"Toggle");var r=t.replace("-","");$(this).is(":checked")||(r=["show","fadeIn","slideDown"].includes(r)?r.replace("show","hide").replace("In","Out").replace("Down","Up"):r.replace("hide","show").replace("Out","In").replace("Up","Down")),doAction($(this),$(this).data(t),r);var o=$(this).data("trigger");o||(o="change")}else{var o=$(this).data("trigger");o||(o="click")}setAction($(this),$(this).data(t),o,action)})}),$("[data-text-replace]").each(function(t,e){var a=$(this).data("trigger");a||(a="click"),"load"==a?textRepalce($(this)):$(this).on(a,function(){textRepalce($(this))})})});